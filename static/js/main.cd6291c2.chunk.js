(this.webpackJsonpquizy=this.webpackJsonpquizy||[]).push([[0],{41:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(2),a=n.n(r),i=n(31),s=n.n(i),o=n(13),u=n(4),l=n(5),j=Object(r.createContext)();n(41);function b(e){var t=e.text,n=e.path,r=e.clickHandler;return Object(c.jsx)("button",{onClick:function(){return r(n)},children:t})}var d=n(10),h=n(7);function p(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  min-height: calc(100vh - 160px);\n  max-width: 500px;\n  padding: 80px 40px;\n  margin: 0 auto;\n\n  h1 {\n    color: #FC8E30;\n    font-size: 64px;\n    margin: 0 0 80px;\n  }\n\n  h2 {\n    color: black;\n    font-size: 48px;\n    margin: 0 0 80px;\n  }\n"]);return p=function(){return e},e}var f=h.a.main(p());function x(){var e=Object(l.g)(),t=function(t){e.push("./".concat(t))};return Object(c.jsxs)(f,{children:[Object(c.jsx)("h1",{children:"Quizy"}),Object(c.jsx)(b,{text:"Play",path:"settings",clickHandler:t}),Object(c.jsx)(b,{text:"Highscore",path:"highscore",clickHandler:t})]})}var O=n(27);n(46);O.a.initializeApp({apiKey:"AIzaSyABzrcEy1JtvKtaORtXo1cRAlMp4cZO33Q",authDomain:"quizy-c6178.firebaseapp.com",databaseURL:"https://quizy-c6178.firebaseio.com",projectId:"quizy-c6178",storageBucket:"quizy-c6178.appspot.com",messagingSenderId:"108998361270",appId:"1:108998361270:web:6ac40783b182bfe2d72617"});var m=O.a;n(49);function g(){var e=Object(d.a)(["\n  background-color: #BBB;\n"]);return g=function(){return e},e}function v(e){var t,n=e.highscores,r=e.currentTab,a=Object.values(n[r]);return Object(c.jsxs)("table",{className:"highscore-table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{className:"col",children:"Rank"}),Object(c.jsx)("th",{className:"col",children:"User"}),Object(c.jsx)("th",{className:"col",children:"Points"})]})}),Object(c.jsx)("tbody",{children:(t=a,t.sort((function(e,t){return t.score-e.score}))).map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"col",children:t+1}),Object(c.jsx)("td",{className:"col",children:e.username}),Object(c.jsx)("td",{className:"col",children:e.score})]},t)}))})]})}h.a.div(g()),n(50);function y(){var e=Object(d.a)(["\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  li {\n  }\n"]);return y=function(){return e},e}function w(e){var t=e.categories,n=e.currentTab,r=e.changeCategory;return Object(c.jsxs)("select",{className:"category-select",onChange:r,name:"category",id:"category-select",children:[Object(c.jsx)("option",{value:"",children:"Any"}),t.map((function(e,t){return Object(c.jsx)("option",{selected:e.name===n,value:e.id,children:e.name},t)}))]})}h.a.ul(y());function S(){var e=m.database(),t=Object(r.useContext)(j).category,n=Object(r.useState)({}),a=Object(u.a)(n,2),i=a[0],s=a[1],o=Object(r.useState)(t),l=Object(u.a)(o,2),b=l[0],d=l[1],h=Object(r.useState)(null),p=Object(u.a)(h,2),x=p[0],O=p[1];return Object(r.useEffect)((function(){fetch("https://opentdb.com/api_category.php").then((function(e){return e.json()})).then((function(e){return O(e.trivia_categories)})).catch((function(e){return console.error(e)}))}),[]),Object(r.useEffect)((function(){e.ref().once("value").then((function(e){s(e.val())}))}),[s,e]),Object(c.jsxs)(f,{children:[Object(c.jsx)("h2",{children:"Highscore"}),x&&Object(c.jsx)(w,{categories:x,currentTab:b,changeCategory:function(e){var t=e.target.options[e.target.selectedIndex];d(t.text)}}),i[b]?Object(c.jsx)(v,{highscores:i,currentTab:b}):Object(c.jsx)("i",{children:"Kategorin saknar resultat"})]})}var k=n(22);function C(){var e=Object(d.a)(["\n  display: inline-block;\n  margin-bottom: 80px;\n\n  .wrapper {\n    width: 250px;\n    height: 250px;\n    position: relative;\n    border-radius: 50%;\n    border: 10px solid black;\n    background-color: white;\n  }\n\n  .spinner-wrapper {\n    width: 100%;\n    height: 100%;\n    position: relative;\n    animation: rota ","s linear;\n  }\n\n  .spinner {\n    top: 0;\n    left: 0;\n    border-radius: 125px 0 0 125px; \n    z-index: 200;\n    /* border-right: none; */\n  }\n\n  .filler {\n    top: 0;\n    right: 0;\n    border-radius: 0 125px 125px 0;\n    z-index: 100;\n    opacity: 0;\n    /* border-left: none; */\n    animation: fill ","s steps(1, end);\n  }\n\n  .mask {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 50%;\n    z-index: 300;\n    opacity: 1;\n    background: white;\n    border-radius: 125px 0 0 125px;\n    animation: mask ","s steps(1, end);\n  }\n\n  .pie {\n    width: 50%;\n    height: 100%;\n    position: absolute;\n    background: #08C;\n    /* border: 10px solid rgba(0,0,0,0.4); */\n  }\n\n  p {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    font-size: 64px;\n    font-weight: 500;\n    margin: 0;\n    z-index: 999;\n  }\n\n  @keyframes rota {\n    0%   { transform: rotate(0deg); }\n    100% { transform: rotate(-360deg); }\n  }\n\n  @keyframes fill {\n    0%        { opacity: 1; }\n    50%, 100% { opacity: 0; }\n  }\n\n  @keyframes mask {\n    0%        { opacity: 0; }\n    50%, 100% { opacity: 1; }\n  }\n"]);return C=function(){return e},e}function N(e){var t=e.setCounter,n=e.duration,a=e.handleSubmit,i=Object(r.useState)(n),s=Object(u.a)(i,2),o=s[0],l=s[1];return Object(r.useEffect)((function(){t(setInterval((function(){l((function(e){return e-1}))}),1e3))}),[t]),Object(r.useEffect)((function(){0===o&&a(!0)}),[o,a]),Object(c.jsx)(q,{duration:n,children:Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)("div",{className:"spinner-wrapper",children:Object(c.jsx)("div",{className:"spinner pie"})}),Object(c.jsx)("div",{className:"filler pie"}),Object(c.jsx)("div",{className:"mask"}),Object(c.jsx)("p",{children:o&&o})]})})}var q=h.a.div(C(),(function(e){return e.duration}),(function(e){return e.duration}),(function(e){return e.duration}));n(51);function z(e){var t=e.answer;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("input",{className:"option-input",type:"radio",name:"answer",value:t}),Object(c.jsx)("label",{className:"option-label",htmlFor:t,dangerouslySetInnerHTML:{__html:t}})]})}function _(){var e=Object(d.a)(["\n  display: grid;\n  grid-template: repeat(",", 1fr) / auto minmax(50px, auto);\n  width: max-content;\n  margin: 40px auto;\n  gap: 10px;\n"]);return _=function(){return e},e}function I(e){var t=e.questionData,n=e.currentQuestion,a=Object(r.useState)([]),i=Object(u.a)(a,2),s=i[0],o=i[1];return Object(r.useEffect)((function(){o((function(){if("boolean"!==t.type){var e=Object(k.a)(t.incorrect_answers),n=Math.floor(Math.random()*s.length+1);return e.splice(n,0,t.correct_answer),e}return["True","False"]}))}),[t,s.length]),Object(c.jsx)(T,{rowLength:s.length,children:s&&s.map((function(e,t){return Object(c.jsx)(z,{answer:e},"".concat(n).concat(t))}))})}var T=h.a.div(_(),(function(e){return e.rowLength}));n(52);function A(e){var t=e.questionData,n=e.currentQuestion;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{className:"question",dangerouslySetInnerHTML:{__html:t.question}}),Object(c.jsx)(I,{questionData:t,currentQuestion:n})]})}function D(){var e=Object(r.useContext)(j),t=e.settings,n=e.questions,a=e.setQuestions,i=e.answers,s=e.setAnswers,o=Object(r.useState)(0),b=Object(u.a)(o,2),d=b[0],h=b[1],p=Object(r.useState)(),x=Object(u.a)(p,2),O=x[0],m=x[1],g=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.querySelector("input[name=answer]:checked");if(t||e){var n=t?t.value:"";s([].concat(Object(k.a)(i),[n])),h(d+1),clearInterval(O)}};return Object(r.useEffect)((function(){fetch("https://opentdb.com/api.php?amount=10&difficulty=".concat(t.difficulty,"&category=").concat(t.category)).then((function(e){return e.json()})).then((function(e){return a(e.results)})).catch((function(e){return console.error(e)}))}),[t,a]),Object(c.jsx)(f,{children:n&&Object(c.jsx)("div",{children:d===n.length?Object(c.jsx)(l.a,{to:"./stats"}):Object(c.jsxs)("div",{children:[Object(c.jsx)(N,{setCounter:m,duration:t.timer,handleSubmit:g},d),Object(c.jsx)(A,{questionData:n[d],currentQuestion:d}),Object(c.jsx)("button",{onClick:function(){return g()},children:"Submit"})]})})})}var F=n(35);function H(){var e=Object(d.a)(["\n  .input-container {\n    display: grid;\n    grid-template: repeat(3, minmax(30px, 1fr)) / auto 1fr;\n    grid-gap: 1em;\n    margin-bottom: 80px;\n\n    label {\n      display: flex;\n      align-items: center;\n      text-align: left;\n      font-size: 16px;\n      font-weight: 500;\n      white-space: nowrap;\n    }\n\n    select {\n      display: flex;\n      align-items: center;\n      font-family: 'Roboto';\n      border: 2px solid black;\n      padding: 0 4px;\n      border-radius: 10px;\n\n      &:active {\n        border-bottom: 0;\n        border-radius: 10px 10px 0 0;\n      }\n    }\n\n    .range-wrapper {\n      display: flex;\n      align-items: center;\n      \n      input {\n        flex-grow: 1;\n      }\n    }\n\n    input:focus, select:focus {\n      outline: none;\n    }\n  }\n  \n"]);return H=function(){return e},e}function E(){var e=Object(r.useContext)(j),t=e.setSettings,n=e.setCategory,a=Object(l.g)(),i=Object(r.useState)([]),s=Object(u.a)(i,2),o=s[0],b=s[1],d=Object(r.useState)(30),h=Object(u.a)(d,2),p=h[0],x=h[1];return Object(r.useEffect)((function(){fetch("https://opentdb.com/api_category.php").then((function(e){return e.json()})).then((function(e){return b(e.trivia_categories)})).catch((function(e){return console.error(e)}))}),[]),Object(c.jsx)(f,{children:Object(c.jsxs)(L,{action:"./play",onSubmit:function(e){return function(e){e.preventDefault();var n,c=new FormData(e.currentTarget),r={},i=Object(F.a)(c.entries());try{for(i.s();!(n=i.n()).done;){var s=Object(u.a)(n.value,2),o=s[0],l=s[1];r[o]=l}}catch(j){i.e(j)}finally{i.f()}t(r),a.push("./play")}(e)},children:[Object(c.jsxs)("div",{className:"input-container",children:[Object(c.jsx)("label",{htmlFor:"category-select",children:"Select Category :"}),Object(c.jsxs)("select",{onChange:function(e){var t=e.target.options[e.target.selectedIndex];n(t.text)},name:"category",id:"category-select",children:[Object(c.jsx)("option",{value:"",children:"Any"}),o.map((function(e,t){return Object(c.jsx)("option",{value:e.id,children:e.name},t)}))]}),Object(c.jsx)("label",{htmlFor:"difficulty-select",children:"Select Difficulty :"}),Object(c.jsxs)("select",{name:"difficulty",id:"difficulty-select",children:[Object(c.jsx)("option",{value:"",children:"Any Difficulty"}),[{id:"easy",name:"Baby"},{id:"medium",name:"Kid"},{id:"hard",name:"Adult"}].map((function(e,t){return Object(c.jsx)("option",{value:e.id,children:e.name},t)}))]}),Object(c.jsx)("label",{htmlFor:"timer",children:"Timer :"}),Object(c.jsxs)("div",{className:"range-wrapper",children:[Object(c.jsx)("input",{type:"range",id:"timer",name:"timer",min:"10",max:"50",value:p,onInput:function(e){return x(e.currentTarget.value)}}),Object(c.jsxs)("span",{children:[p,"sec"]})]})]}),Object(c.jsx)("button",{children:"Start Game"})]})})}var L=h.a.form(H());n(53);function M(e){var t=e.questionData,n=e.answer;return Object(c.jsxs)("div",{className:"question-vs-answer",children:[Object(c.jsx)("h3",{dangerouslySetInnerHTML:{__html:t.question}}),Object(c.jsx)("p",{dangerouslySetInnerHTML:{__html:"Your answer: ".concat(n)}}),Object(c.jsx)("p",{dangerouslySetInnerHTML:{__html:"Correct answer: ".concat(t.correct_answer)}})]})}n(54);function B(e){var t=e.username,n=e.setUsername;return Object(c.jsxs)("div",{className:"username-input-wrapper",children:[Object(c.jsx)("label",{className:"user-label",children:"Username"}),Object(c.jsx)("input",{className:"user-input",value:t,onChange:function(e){n(e.currentTarget.value)}})]})}function Q(){for(var e=m.database(),t=Object(r.useContext)(j),n=t.answers,a=t.questions,i=t.category,s=Object(l.g)(),o=Object(r.useState)(null),d=Object(u.a)(o,2),h=d[0],p=d[1],x=0,O=0;O<Math.min(n.length,a.length);O++)n[O]===a[O].correct_answer&&x++;return Object(r.useEffect)((function(){}),[]),Object(c.jsxs)(f,{children:[Object(c.jsx)("h2",{children:"Overview"}),a?a.map((function(e,t){return Object(c.jsx)(M,{questionData:e,answer:n[t]},t)})):Object(c.jsx)(l.a,{to:"./settings"}),Object(c.jsx)(B,{username:h,setUsername:p}),Object(c.jsx)(b,{text:"Publish",path:"highscore",clickHandler:function(t){var n={username:h,score:x};e.ref(i).push(n),s.push("./".concat(t))}}),Object(c.jsx)(b,{text:"Skip",path:"highscore",clickHandler:function(e){s.push("./".concat(e))}})]})}function P(){var e=Object(r.useState)("Any"),t=Object(u.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(null),s=Object(u.a)(i,2),o=s[0],b=s[1],d=Object(r.useState)([]),h=Object(u.a)(d,2),p=h[0],f=h[1],O=Object(r.useState)({category:"",difficulty:"",timer:"30"}),m=Object(u.a)(O,2),g=m[0],v=m[1];return Object(c.jsx)("div",{children:Object(c.jsx)(j.Provider,{value:{settings:g,setSettings:v,questions:o,setQuestions:b,answers:p,setAnswers:f,category:n,setCategory:a},children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{path:"./settings",children:Object(c.jsx)(E,{})}),Object(c.jsx)(l.b,{path:"./play",children:Object(c.jsx)(D,{})}),Object(c.jsx)(l.b,{path:"./stats",children:Object(c.jsx)(Q,{})}),Object(c.jsx)(l.b,{path:"./highscore",children:Object(c.jsx)(S,{})}),Object(c.jsx)(l.b,{path:"/",children:Object(c.jsx)(x,{})})]})})})}n(55);var R=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(P,{})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};n(56);s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(o.a,{children:Object(c.jsx)(R,{})})}),document.getElementById("root")),U()}},[[57,1,2]]]);
//# sourceMappingURL=main.cd6291c2.chunk.js.map